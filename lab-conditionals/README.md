Ansible Conditionals

1. Приведенный playbook пытается запустить службу mysql на all_servers. Используй условие when, чтобы запустить task в случае, если ansible_host является сервером баз данных.
2. В этом playbook определена переменная с названием age. Два tasks выполняют команды, которые выводят на экран I am a child и I am an Adult. Используй условия when, чтобы в зависимости от переменной age выполнялся нужный task. А именно, если возраст < 18 это ребенок, а если >= 18, то взрослый.
3. В этом playbook мы хотим, чтобы происходило добавление новой строки в файл /etc/resolv.conf для nameserver.
Сначала мы запускаем команду с помощью модуля shell, чтобы получить содержимое файла /etc/resolv.conf, а потом добавляем в него новую линию, содержащую данные для разрешения имени этого сервера. Однако, при многократном запуске данный playbook будет каждый раз вносить дубликаты этой строки в файл resolv.conf.
Добавь директиву register, которая сохранит вывод первой команды в переменную command_output
Теперь добавь условие во вторую команду, чтобы проверить, содержится ли уже в выводе первой команды сервер имен 10.0.250.10. Используй условие command_output.stdout.find(<IP>) == -1